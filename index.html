<!DOCTYPE html>
<html>

<head>
    <title>Intro to Node and MongoDB</title>
</head>

<body>
    <div id="container">
        <div></div>
        Node.JS Email application
        <div>
            <h1>Mailer In Node.JS</h1>
            <input id="to" type="text" placeholder="Enter E-mail ID where you want to send" />
            <input id="subject" type="text" placeholder="Write Subject" />
            <textarea id="content" cols="40" rows="5" placeholder="Write what you want to send"></textarea>
            <button id="send_email">Send Email</button>
            <span id="message"></span>
        </div>

        <script
            src="https://code.jquery.com/jquery-3.3.1.js"
            integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
            crossorigin="anonymous"></script>
        <script>
            $(document).ready(function () {
                        var from, to, subject, text;
                        
                        $("#send_email").click(function () {
                                to = $("#to").val();
                                subject = $("#subject").val();
                                text = $("#content").val();
                                var body1 = {
                                    to: to,
                                    subject: subject,
                                    text: text
                                }
                                $("#message").text("Sending E-mail...Please wait");
                                fetch("http://localhost:3000/user", {
                                    method: "POST", // *GET, POST, PUT, DELETE, etc.
                                    mode: "cors", // no-cors, cors, *same-origin
                                    cache: "no-cache", // *default, no-cache, reload, force-cache, only-if-cached
                                    credentials: "same-origin", // include, same-origin, *omit
                                    headers: {
                                        "Content-Type": "application/json; charset=utf-8",
                                        //"Content-Type": "application/x-www-form-urlencoded",
                                    },
                                    redirect: "follow", // manual, *follow, error
                                    referrer: "no-referrer", // no-referrer, *client
                                    body: JSON.stringify(body1)// body data type must match "Content-Type" header
                                })
                            })
                        });
        </script>
</body>

</html>